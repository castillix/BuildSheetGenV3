<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Sheet Generator - Free Geek Arkansas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <div class="container">
        <header>
            <h1>Build Sheet Generator V3</h1>
            <p class="subtitle">Free Geek Arkansas - Computer Sales Preparation Tool</p>
        </header>

        <form id="buildsheet-form">
            <!-- Computer Identification -->
            <section class="form-section">
                <h2>Computer Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="model">Computer Model <span class="required">*</span></label>
                        <input type="text" id="model" name="model" required placeholder="e.g., Dell Latitude 5490">
                    </div>
                    <div class="form-group">
                        <label for="serial">Serial Number <span class="required">*</span></label>
                        <input type="text" id="serial" name="serial" required placeholder="e.g., ABC123456789">
                    </div>
                    <div class="form-group">
                        <label for="computer_type">Computer Type <span class="required">*</span></label>
                        <select id="computer_type" name="computer_type" required>
                            <option value="desktop">Desktop</option>
                            <option value="laptop">Laptop</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="builder_name">Technician Name</label>
                        <input type="text" id="builder_name" name="builder_name" placeholder="Your name">
                    </div>
                </div>
            </section>

            <!-- CPU Section -->
            <section class="form-section">
                <h2>Processor (CPU)</h2>
                <div class="form-group">
                    <label for="cpu_entry_mode">Entry Mode</label>
                    <select id="cpu_entry_mode" name="cpu_entry_mode">
                        <option value="search">Search Database</option>
                        <option value="manual">Manual Entry</option>
                    </select>
                </div>

                <!-- CPU Search Mode -->
                <div id="cpu_search_mode">
                    <div class="form-group">
                        <label for="cpu_search">Search CPU <span class="required">*</span></label>
                        <input type="text" id="cpu_search"
                            placeholder="Start typing CPU name (e.g., Intel Core i5-8350U)">
                        <div id="cpu_suggestions" class="suggestions"></div>
                    </div>
                    <div id="cpu_selected_info" class="info-box" style="display: none;">
                        <h4>Selected CPU:</h4>
                        <p id="cpu_info_text"></p>
                    </div>
                </div>

                <!-- CPU Manual Mode -->
                <div id="cpu_manual_mode" style="display: none;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="cpu_name_manual">CPU Name <span class="required">*</span></label>
                            <input type="text" id="cpu_name_manual" placeholder="e.g., Intel Core i7-7700">
                        </div>
                        <div class="form-group">
                            <label for="cpu_year">Release Year <span class="required">*</span></label>
                            <input type="number" id="cpu_year" min="2000" max="2030" placeholder="e.g., 2020">
                        </div>
                        <div class="form-group">
                            <label for="cpu_cores">Cores <span class="required">*</span></label>
                            <input type="number" id="cpu_cores" min="1" max="128" placeholder="e.g., 4">
                        </div>
                        <div class="form-group">
                            <label for="cpu_threads">Threads <span class="required">*</span></label>
                            <input type="number" id="cpu_threads" min="1" max="256" placeholder="e.g., 8">
                        </div>
                        <div class="form-group">
                            <label for="cpu_turbo">Max Turbo Speed (GHz) <span class="required">*</span></label>
                            <input type="number" id="cpu_turbo" step="0.1" min="0" max="10" placeholder="e.g., 3.6">
                        </div>
                        <div class="form-group">
                            <label for="cpu_passmark">Passmark Score <span class="required">*</span></label>
                            <input type="number" id="cpu_passmark" min="0" placeholder="e.g., 7500">
                        </div>
                    </div>
                </div>
            </section>

            <!-- RAM Section -->
            <section class="form-section">
                <h2>Memory (RAM)</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="ram_gb">RAM Amount (GB) <span class="required">*</span></label>
                        <input type="number" id="ram_gb" name="ram_gb" required min="1" max="1024"
                            placeholder="e.g., 16">
                    </div>
                    <div class="form-group">
                        <label for="ram_type">RAM Type <span class="required">*</span></label>
                        <select id="ram_type" name="ram_type" required>
                            <option value="DDR3">DDR3</option>
                            <option value="DDR4" selected>DDR4</option>
                            <option value="DDR5">DDR5</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Storage Section -->
            <section class="form-section">
                <h2>Storage</h2>
                <div id="drives_container">
                    <div class="drive-entry form-grid">
                        <div class="form-group">
                            <label>Capacity (GB) <span class="required">*</span></label>
                            <input type="number" class="drive_capacity" required min="1" placeholder="e.g., 512">
                        </div>
                        <div class="form-group">
                            <label>Type <span class="required">*</span></label>
                            <select class="drive_type" required>
                                <option value="HDD">HDD</option>
                                <option value="SSD" selected>SSD</option>
                                <option value="NVMe">NVMe SSD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <button type="button" class="btn-remove-drive" style="visibility: hidden;">Remove</button>
                        </div>
                    </div>
                </div>
                <!-- Removed Add Drive button - only one drive allowed -->
            </section>

            <!-- GPU Section -->
            <section class="form-section">
                <h2>Graphics Card (Optional)</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="gpu_name">GPU Name</label>
                        <input type="text" id="gpu_name" name="gpu_name" placeholder="e.g., NVIDIA GTX 1650">
                    </div>
                    <div class="form-group">
                        <label for="gpu_price">GPU Price Modifier ($)</label>
                        <input type="number" id="gpu_price" name="gpu_price" min="0" step="1" value="0" placeholder="0">
                        <small>Additional price to add for dedicated GPU</small>
                    </div>
                </div>
            </section>

            <!-- Operating System -->
            <section class="form-section">
                <h2>Operating System</h2>
                <div class="form-group">
                    <label for="os_name">OS Name <span class="required">*</span></label>
                    <input type="text" id="os_name" name="os_name" required placeholder="e.g., Windows 11 Pro 23H2">
                </div>
            </section>

            <!-- Laptop-Specific Fields -->
            <section class="form-section laptop-only" id="laptop_section" style="display: none;">
                <h2>Laptop Specifications</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="screen_size">Screen Size (inches)</label>
                        <input type="text" id="screen_size" name="screen_size" placeholder="e.g., 14">
                    </div>
                    <div class="form-group">
                        <label for="battery_health">Battery Health</label>
                        <input type="text" id="battery_health" name="battery_health" placeholder="e.g., Good, 85%">
                    </div>
                    <div class="form-group">
                        <label for="battery_duration">Battery Duration (hours)</label>
                        <input type="number" id="battery_duration" name="battery_duration" step="0.5" min="0"
                            placeholder="e.g., 3.5">
                    </div>
                </div>
            </section>

            <!-- Features Checklist -->
            <section class="form-section">
                <h2>Features & Connectivity</h2>
                <div class="checkbox-grid">
                    <label class="checkbox-label">
                        <input type="checkbox" name="wifi" id="wifi" checked>
                        <span>WiFi</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="bluetooth" id="bluetooth" checked>
                        <span>Bluetooth</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="webcam" id="webcam">
                        <span>Webcam</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="touchscreen" id="touchscreen">
                        <span>Touchscreen</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="sound" id="sound" checked>
                        <span>Sound</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="microphone" id="microphone" checked>
                        <span>Microphone</span>
                    </label>
                </div>
            </section>

            <!-- Price Preview -->
            <section class="form-section price-section">
                <h2>Price Information</h2>
                <div class="price-display">
                    <div id="price_loading" class="loading" style="display: none;">Calculating...</div>
                    <div id="price_result">
                        <div class="form-group">
                            <label>Recommended Price</label>
                            <div class="price-value">$<span id="final_price">0</span></div>
                            <button type="button" id="recalculate_btn" class="btn-secondary">Recalculate Price</button>
                        </div>
                        <div class="form-group">
                            <label for="actual_price">Actual Price (for PDF) <span class="required">*</span></label>
                            <input type="number" id="actual_price" name="actual_price" required min="0" step="1"
                                placeholder="Enter final price">
                            <small>This is the price that will appear on the build sheet</small>
                        </div>
                    </div>
                    <div id="price_breakdown" class="price-breakdown" style="display: none;">
                        <h4>Price Breakdown:</h4>
                        <table>
                            <tr>
                                <td>CPU:</td>
                                <td>$<span id="price_cpu">0</span></td>
                            </tr>
                            <tr>
                                <td>RAM:</td>
                                <td>$<span id="price_ram">0</span></td>
                            </tr>
                            <tr>
                                <td>Storage:</td>
                                <td>$<span id="price_drive">0</span></td>
                            </tr>
                            <tr>
                                <td>GPU:</td>
                                <td>$<span id="price_gpu">0</span></td>
                            </tr>
                            <tr>
                                <td>OS Modifier:</td>
                                <td>$<span id="price_os">0</span></td>
                            </tr>
                            <tr>
                                <td>Base Fee:</td>
                                <td>$<span id="price_base">0</span></td>
                            </tr>
                            <tr class="total">
                                <td><strong>Total:</strong></td>
                                <td><strong>$<span id="price_total">0</span></strong></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Submit Button -->
            <div class="form-actions">
                <button type="submit" id="generate_btn" class="btn-primary">Generate Build Sheet PDF</button>
            </div>
        </form>

        <div id="error_message" class="error-message" style="display: none;"></div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>